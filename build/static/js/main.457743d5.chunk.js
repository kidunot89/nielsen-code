(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(27)},20:function(e,n,t){},27:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(3),i=t.n(l),o=(t(20),t(2)),c=t(1),s=t(6),u=t(10),m=t(7);function p(){var e=Object(s.a)(["\n  width: 100%;\n  max-width: 646px;\n  height: 500px;\n  display: flex;\n  flex-flow: row wrap;\n  align-items: flex-start;\n  padding-top: 2em;\n\n  .row {\n    height: 100%;\n    display: flex;\n    flex-flow: column nowrap;\n\n    .bars {\n      height: 100%;\n      margin: 0 1em;\n      display: flex;\n      flex-wrap: wrap;\n      align-items: flex-end;\n      .bar {\n        width: 45px;\n\n        .text {\n          margin-top: -1.5em;\n        }\n      }\n    }\n\n    .row-text { margin: 0.5 auto; }\n  }\n"]);return p=function(){return e},e}function f(){var e=Object(s.a)(["\n  position: relative;\n  margin: 0 auto;\n  width: 100%;\n  max-width: 646px;\n  text-align: center;\n\n  form {\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: stretch;\n    label {\n      padding: 1em 1em;\n    }\n    input {\n      margin: 1em 1em 1em auto;\n      flex-basis: 45%;\n    }\n    p {\n      color: #a94442;\n      margin-top: -0.5em;\n      flex-basis: 100%;\n      font-size: 85%;\n    }\n    button {\n      padding: 1em;\n      margin-top: 1em;\n      font-size: 125%;\n      font-weight: 600;\n      background-color: #595959;\n      color: #f4f4f4;\n      border: none;\n      flex-basis: 100%;\n    }\n  }\n\n  .loading {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    z-index: 999;\n    width: 100%;\n    max-width: 400px;\n    height: 100px;\n    \n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: #d9edf7;\n    color: #31708f;\n  }\n\n  .key-column {\n    text-align: left;\n    select{ margin: 1em 0 1em 1em; }\n  }\n"]);return f=function(){return e},e}var d=u.a.span({enter:{applyAtStart:{display:"block"},opacity:1,x:"-50%",y:"-50%",transition:{x:{type:"keyframes",values:["-150%","-50%"],duration:600}}},exit:{applyAtEnd:{display:"none"},opacity:0,x:"100%",y:"-50%",transition:{x:{type:"keyframes",values:["-50%","100%"],duration:500}}},initialPose:"exit"}),g=u.a.p({enter:{scale:1},exit:{scale:0},initialPose:"exit"}),b=m.a.div(f()),x=m.a.div(p()),h=["rgba(101, 13, 27, 1)","rgba(130, 50, 0, 1)","rgba(155, 61, 18, 1)","rgba(174, 142, 28, 1)","rgba(193, 223, 31, 1)"],w=function(e){var n=e.sortBy,t=e.data,a=e.max,l=e.colors;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"bars"},Object(c.map)(t,function(e,t){return t===n?null:r.a.createElement("div",{key:t,className:"bar",style:{height:"".concat(e/a[t]*100,"%"),backgroundColor:l[t]}},r.a.createElement("p",{className:"text"},e))})),r.a.createElement("h3",{className:"row-text"},t[n]))},v=function(e){var n=e.data;if(Object(c.isEmpty)(n))return null;var t=n.slice(),l=t.splice(0,1)[0];console.log(l,t);var i=Object(a.useState)(l[0]),s=Object(o.a)(i,2),u=s[0],m=s[1],p=Object(c.map)(t,function(e){var n={};return Object(c.each)(l,function(t,a){return n[t]=e[a]}),n}),f=function(e,n){return Object(c.reduce)(e,function(e,t){return Object(c.each)(n,function(n){e[n]=e[n]&&e[n]>t[n]?e[n]:t[n]}),e},{})}(p,l),d=function(e){var n=0,t={};return Object(c.each)(e,function(e){n>t.length-1&&(n=0),t[e]=h[n],n+=1}),t}(l);return r.a.createElement(a.Fragment,null,r.a.createElement("label",{className:"key-column"},"Key Column:",r.a.createElement("select",{value:u,onChange:function(e){return m(e.target.value)}},Object(c.map)(l,function(e){return r.a.createElement("option",{value:e},e)}))),r.a.createElement(x,null,Object(c.map)(p,function(e,n){return r.a.createElement(w,{key:"row-".concat(n+e[u]),sortBy:u,data:e,max:f,colors:d})})))},y=function(){var e=Object(a.useRef)(null),n=Object(a.useState)(null),t=Object(o.a)(n,2),l=t[0],i=t[1],s=Object(a.useState)(null),u=Object(o.a)(s,2),m=u[0],p=u[1],f=Object(a.useState)(!1),x=Object(o.a)(f,2),h=x[0],w=x[1];return r.a.createElement(b,{className:"App"},r.a.createElement("h1",null,"CSV Bar Graph Mapper"),r.a.createElement("form",{onSubmit:function(n){n.preventDefault(),w("Loading file");var t=Object(c.get)(e,"current.files[0]");if(t){p(null);var a=new FileReader;a.onloadend=function(){w("Parsing file");var e=function(e,n){n=n||",";for(var t,a=new RegExp("(\\"+n+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+n+"\\r\\n]*))","gi"),r=[[]];t=a.exec(e);){var l=t[1];l.length&&l!==n&&r.push([]);var i=void 0;i=t[2]?t[2].replace(new RegExp('""',"g"),'"'):isNaN(t[3])?t[3]:parseInt(t[3],10),r[r.length-1].push(i)}return Object(c.isEqual)(r[r.length-1],[NaN],[""])&&r.splice(-1),r}(a.result);0===e.length?p("Sorry, there was a problem parsing the CSV file."):p(null),i(e),w(!1)},w("Reading file"),a.readAsText(t)}else p("Please choose a file to be .CSV file to be read"),w(!1)}},r.a.createElement("label",{htmlFor:"file"},"CSV File"),r.a.createElement("input",{type:"file",ref:e,accept:".csv"}),r.a.createElement(g,{pose:m?"enter":"exit"},m),r.a.createElement("button",{type:"submit"},"Update Graph")),r.a.createElement(v,{data:l}),r.a.createElement(d,{className:"loading",pose:h?"enter":"exit"},h))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,1,2]]]);
//# sourceMappingURL=main.457743d5.chunk.js.map